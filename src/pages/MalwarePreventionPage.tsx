import { motion } from "motion/react";
import { useInView } from "motion/react";
import { useRef, useEffect, useState } from "react";
import { ExternalLink, Shield, Activity, Zap, BarChart3, ChevronUp } from "lucide-react";
import { Button } from "../components/ui/button";
import { Badge } from "../components/ui/badge";
import malwarePreventionImg from "figma:asset/f3e67640e0faf475570c45e1dd33d61aa325961f.png";
import problemImage from "figma:asset/05d6e2b9564036d0fe482db81343edaf324be3f1.png";
import personasImage from "figma:asset/52ad335241ca0dd719b11ffc954d374fef3350c6.png";
import overviewPageImage from "figma:asset/666c527cfb7f150bec46157ea0cafb2b5b18ff03.png";
import multipleInspectionsImage from "figma:asset/8d3016b689d0c5e13c5426014c7e2886f6d3d25b.png";
import detailedEventViewImage from "figma:asset/b61d5ab99798a394edf0bf0605540f8575817f0b.png";
import customizedReportImage from "figma:asset/aad5abe38fe933beb774ba1ec7b9308bb4f9b325.png";
import workshopImage1 from "figma:asset/7bd10e3121b33fbe988d822e9952e7673de3a5ed.png";
import workshopImage2 from "figma:asset/7376392f94c6b0f9303eda0a621cf29f2ed3d326.png";
import designChallengeImage from "figma:asset/ebd8ba6189a90641960ce723b472bc0501ca6470.png";
import targetUsersImage from "figma:asset/e553bad4e80d695481951707d3ed210746c78c66.png";
import progressiveDisclosureImage from "figma:asset/923cbec6ff01653f675f8d5305fb14dcbb14468a.png";
import designIteration1Image from "figma:asset/87a781efbb627feebfbbddea2bd4731363d91270.png";
import { X } from "lucide-react";

export function MalwarePreventionPage() {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, amount: 0.2 });
  const [expandedImage, setExpandedImage] = useState<{ src: string; alt: string } | null>(null);
  const [activeSection, setActiveSection] = useState<string>("");
  const [showBackToTop, setShowBackToTop] = useState(false);

  // Scroll to top when component mounts
  useEffect(() => {
    window.scrollTo(0, 0);
  }, []);

  // Track active section and show/hide back to top button
  useEffect(() => {
    const handleScroll = () => {
      // Show back to top button when scrolled down
      setShowBackToTop(window.scrollY > 300);

      // Track active section
      const sections = [
        "brief",
        "problem",
        "solution-overview",
        "understand-customers-expectation",
        "design-challenge",
        "target-users",
        "approach-strategy",
        "measuring-success",
        "managing-complexity",
        "final-implementation",
        "impact",
        "learnings-reflections"
      ];

      for (const sectionId of sections) {
        const element = document.getElementById(sectionId);
        if (element) {
          const rect = element.getBoundingClientRect();
          if (rect.top <= 150 && rect.bottom >= 150) {
            setActiveSection(sectionId);
            break;
          }
        }
      }
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  };

  const scrollToSection = (sectionId: string) => {
    const element = document.getElementById(sectionId);
    if (element) {
      const offset = 100;
      const elementPosition = element.getBoundingClientRect().top;
      const offsetPosition = elementPosition + window.scrollY - offset;
      window.scrollTo({ top: offsetPosition, behavior: "smooth" });
    }
  };

  const tableOfContents = [
    { id: "brief", label: "Brief" },
    { id: "problem", label: "Problem" },
    { id: "solution-overview", label: "Solution Overview" },
    { id: "understand-customers-expectation", label: "Understand Customer's Expectation" },
    { id: "design-challenge", label: "Design Challenge" },
    { id: "target-users", label: "Target Users" },
    { id: "approach-strategy", label: "Approach & Strategy" },
    { id: "measuring-success", label: "Measuring Success" },
    { id: "managing-complexity", label: "Managing Complexity" },
    { id: "final-implementation", label: "Final Implementation" },
    { id: "impact", label: "Impact" },
    { id: "learnings-reflections", label: "Learnings & Reflections" }
  ];

  const features = [
    {
      icon: Shield,
      title: "Real-time Protection",
      description: "Continuous monitoring and protection against malware threats with instant detection and response.",
      gradient: "from-blue-500 to-cyan-500",
    },
    {
      icon: Activity,
      title: "Performance Monitoring",
      description: "Track system performance and security metrics with comprehensive dashboards and alerts.",
      gradient: "from-green-500 to-emerald-500",
    },
  ];

  const technologies = [
    "React", "TypeScript", "Security APIs", "Real-time Analytics",
    "Node.js", "WebSocket", "Threat Intelligence", "Data Visualization"
  ];

  const solutionImages = [
    { src: overviewPageImage, alt: "Overview Page", description: "Overview Page" },
    { src: multipleInspectionsImage, alt: "Multiple Inspections", description: "Multiple Inspections" },
    { src: detailedEventViewImage, alt: "Detailed Event View", description: "Detailed Event View" },
    { src: customizedReportImage, alt: "Customized Report", description: "Customized Report" },
  ];

  return (
    <main className="pt-20 pb-24">
      {/* Full-width hero image */}
      <div className="container mx-auto px-4">
        <div className="max-w-6xl mx-auto py-12">
          <img
            src={malwarePreventionImg}
            alt="NSX Malware Prevention"
            className="w-full h-auto"
            style={{ borderRadius: '10px' }}
          />
        </div>
      </div>

      <div className="container mx-auto px-4">
        <motion.div
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
          className="max-w-6xl mx-auto"
        >
          {/* Header */}
          <div className="mb-16">
            {/* Project Metadata in 2x2 Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
              <div>
                <p className="text-sm text-gray-500 dark:text-gray-400 mb-1">Project Type</p>
                <p className="text-lg text-gray-900 dark:text-gray-100">UX/UI Design, UX Research</p>
              </div>
              <div>
                <p className="text-sm text-gray-500 dark:text-gray-400 mb-1">My Role</p>
                <p className="text-lg text-gray-900 dark:text-gray-100">Lead UX designer and Researcher</p>
              </div>
              <div>
                <p className="text-sm text-gray-500 dark:text-gray-400 mb-1">Team</p>
                <p className="text-lg text-gray-900 dark:text-gray-100">2 Product Managers, 8 Engineers</p>
              </div>
              <div>
                <p className="text-sm text-gray-500 dark:text-gray-400 mb-1">Timeline</p>
                <p className="text-lg text-gray-900 dark:text-gray-100">March 2021 - March 2022</p>
              </div>
            </div>
          </div>

          {/* Brief */}
          <div className="mb-16" id="brief">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Brief
            </h2>
            <p className="text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
              VMware's NSX-T Malware Prevention is a core feature of the NSX Advanced Threat Prevention (ATP) solution. It detects and analyzes malicious files in a sandboxed environment, providing security teams with insights to monitor and prevent threats in real time. This feature played a pivotal role in winning the Goal Prize in Cybersecurity Excellence Award in 2022 & 2023 as part of the ATP solution.
            </p>
          </div>

          {/* Problem */}
          <div className="mb-16" id="problem">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Problem
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
              <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
                <p>
                  Designing for cybersecurity introduces distinct UX challenges, as Malware Prevention was a relatively new security feature lacking established design patterns.
                </p>
                <p>
                  The need is crucial to align complex backend requirements (e.g., malware detection techniques, security logs) with intuitive data visualizations.
                </p>
                <p>
                  Additionally, engineering priorities sometimes conflicted with business goals, creating ambiguity in design scope.
                </p>
              </div>
              <div>
                <img
                  src={problemImage}
                  alt="Malware Prevention Problem Illustration"
                  className="w-full h-auto"
                  style={{ borderRadius: '10px' }}
                />
              </div>
            </div>
          </div>

          {/* User Personas */}
          <div className="mb-16">
            <p className="text-lg text-gray-700 dark:text-gray-200 leading-relaxed mb-6">
              With primary internal research conducted with 14 participants. We synthesized the following feedback from two major user personas.
            </p>
            <img
              src={personasImage}
              alt="User Personas - Anita and Hector"
              className="w-full h-auto"
              style={{ borderRadius: '10px' }}
            />
          </div>

          {/* Solution Overview */}
          <div className="mb-16" id="solution-overview">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Solution Overview
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
              {solutionImages.map((image, index) => (
                <div key={index}>
                  <img
                    src={image.src}
                    alt={image.alt}
                    className="w-full h-auto mb-4 object-cover cursor-pointer hover:opacity-90 transition-opacity"
                    style={{ borderRadius: '10px', height: '400px' }}
                    onClick={() => setExpandedImage({ src: image.src, alt: image.alt })}
                  />
                  <p className="text-center text-gray-700 dark:text-gray-200">{image.description}</p>
                </div>
              ))}
            </div>
          </div>

          {/* Understand Customer's Expectation */}
          <div className="mb-16" id="understand-customers-expectation">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Understand Customer's Expectation
            </h2>
            <p className="text-lg text-gray-700 dark:text-gray-200 leading-relaxed mb-8">
              In VMWorld 2022, I hosted an online UX workshop in 8 sessions with 83 worldwide customers. It was a great opportunity to learn about the day-to-day work of different type of IT professionals, and their expectations towards the new security feature. Afterwards, I synthesized all the key features they want into "Quotes", which reflects the variation of user need from IT directors, IT admins, and Security Admins.
            </p>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
              <img
                src={workshopImage1}
                alt="VMWorld 2022 Workshop Session"
                className="w-full h-auto cursor-pointer hover:opacity-90 transition-opacity"
                style={{ borderRadius: '10px' }}
                onClick={() => setExpandedImage({ src: workshopImage1, alt: "VMWorld 2022 Workshop Session" })}
              />
              <img
                src={workshopImage2}
                alt="Workshop Presentation - Adding Malware Prevention"
                className="w-full h-auto cursor-pointer hover:opacity-90 transition-opacity"
                style={{ borderRadius: '10px' }}
                onClick={() => setExpandedImage({ src: workshopImage2, alt: "Workshop Presentation - Adding Malware Prevention" })}
              />
            </div>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div className="flex gap-3">
                <div className="text-2xl text-blue-600">|</div>
                <p className="text-lg text-gray-700 dark:text-gray-200 italic leading-relaxed">
                  "I'm looking for scalable and seamless monitoring experience..."
                </p>
              </div>
              <div className="flex gap-3">
                <div className="text-2xl text-blue-600">|</div>
                <p className="text-lg text-gray-700 dark:text-gray-200 italic leading-relaxed">
                  "I hope to view the essential information of a file inspection at first glance without extra clicks..."
                </p>
              </div>
              <div className="flex gap-3">
                <div className="text-2xl text-blue-600">|</div>
                <p className="text-lg text-gray-700 dark:text-gray-200 italic leading-relaxed">
                  "I'd like to view a list of files with verdict, and deep dive into details of the inspection..."
                </p>
              </div>
              <div className="flex gap-3">
                <div className="text-2xl text-blue-600">|</div>
                <p className="text-lg text-gray-700 dark:text-gray-200 italic leading-relaxed">
                  "I want to be alerted to malware detected, and block suspicious files from downloading before it access to our data center..."
                </p>
              </div>
            </div>
          </div>

          {/* Design Challenge */}
          <div className="mb-16" id="design-challenge">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Design Challenge
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
              <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
                <p>
                  After the online workshops, I collected users' feedback and synthesized their expectations into 3 major categories: Advanced Filter, Monitoring View, and Detailed View.
                </p>
                <p>
                  However, the design challenge is how might we address the critical needs based on different personas, and balance the complexity among the key features addressed by the customers.
                </p>
              </div>
              <div>
                <img
                  src={designChallengeImage}
                  alt="Design Challenge - Three Categories"
                  className="w-full h-auto cursor-pointer hover:opacity-90 transition-opacity"
                  style={{ borderRadius: '10px' }}
                  onClick={() => setExpandedImage({ src: designChallengeImage, alt: "Design Challenge - Three Categories" })}
                />
              </div>
            </div>
          </div>

          {/* Target Users */}
          <div className="mb-16" id="target-users">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Target Users
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
              <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
                <p>
                  After synthesizing the user feedback, I identified our target users into 2 major personas to dive deeper into their problem:
                </p>
                <div>
                  <h3 className="text-xl mb-3 text-gray-900 dark:text-gray-100">IT Admin:</h3>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>Oversee the entire Operation environment, and monitor all the security issues.</li>
                    <li>View essential information without extra clicks.</li>
                  </ul>
                </div>
                <div>
                  <h3 className="text-xl mb-3 text-gray-900 dark:text-gray-100">Security Admin:</h3>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>View a list of inspected files with similar timestamp or verdict score.</li>
                    <li>View detail of file inspection event with verdict.</li>
                  </ul>
                </div>
              </div>
              <div>
                <img
                  src={targetUsersImage}
                  alt="Target Users - IT Admin and Security Admin"
                  className="w-full h-auto cursor-pointer hover:opacity-90 transition-opacity"
                  style={{ borderRadius: '10px' }}
                  onClick={() => setExpandedImage({ src: targetUsersImage, alt: "Target Users - IT Admin and Security Admin" })}
                />
              </div>
            </div>
          </div>

          {/* Approach & Strategy */}
          <div className="mb-16" id="approach-strategy">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Approach & Strategy
            </h2>
            <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
              <p>
                To solve these challenges, I collaborated with key stakeholders on potential ways to empower security professionals to navigate and respond to threats with confidence, and led the design strategy through a structured three-phase approach:
              </p>
              <ul className="list-disc pl-6 space-y-3">
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Phase 1 - Manage Complexity:</span> Prioritized progressive disclosure for streamlined decision-making.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Phase 2 - Visual Hierarchy:</span> Defined a hierarchical structure for primary actions (monitoring, allowlisting) and secondary tools (filters, reports).
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Phase 3 - Actionable Insight:</span> Worked with PMs to refine scope incrementally rather than attempting to solve all problems at once.
                </li>
              </ul>
            </div>
          </div>

          {/* Measuring Success */}
          <div className="mb-16" id="measuring-success">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Measuring Success
            </h2>
            <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
              <p>
                To validate the effectiveness of the design on aligning with both user needs and business goals, I collaborated with PMs and engineer leads to define key success metrics from both business and engineering perspectives:
              </p>
              <ul className="list-disc pl-6 space-y-3">
                <li>
                  Number of clicks required to access key insights (reduce cognitive load & interaction cost).
                </li>
                <li>
                  Average time spent on advanced filtering (improve discoverability & efficiency).
                </li>
                <li>
                  User satisfaction ratings from internal security teams (ensure the UI meets the needs of real-world analysts).
                </li>
              </ul>
            </div>
          </div>

          {/* Managing Complexity with Progressive Disclosure */}
          <div className="mb-16" id="managing-complexity">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Managing Complexity with Progressive Disclosure
            </h2>
            <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
              <p>
                I took the approach by breaking down the complex backend requirements into manageable user actions and workflows, specifically into 3 stages:
              </p>
              <ul className="list-disc pl-6 space-y-3">
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Stage 0:</span> Listed down all the features from both PM requirements and backend APIs. Have an overview of all the supported attributes.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Stage 1:</span> Sort, combine those into similar categories, to make it simple.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Stage 2:</span> Group and align it with 3 panels to show on screen, see how it fits into each major panel on the monitoring page.
                </li>
              </ul>
              <img
                src={progressiveDisclosureImage}
                alt="Progressive Disclosure - Stage 1 & 2 Workflow"
                className="w-full h-auto mt-8 cursor-pointer hover:opacity-90 transition-opacity"
                style={{ borderRadius: '10px' }}
                onClick={() => setExpandedImage({ src: progressiveDisclosureImage, alt: "Progressive Disclosure - Stage 1 & 2 Workflow" })}
              />
            </div>
          </div>

          {/* Design Iteration 1 - Stacked Bar Chart */}
          <div className="mb-16">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
              <div>
                <img
                  src={designIteration1Image}
                  alt="Design Iteration 1 - Stacked Bar Chart"
                  className="w-full h-auto cursor-pointer hover:opacity-90 transition-opacity"
                  style={{ borderRadius: '10px' }}
                  onClick={() => setExpandedImage({ src: designIteration1Image, alt: "Design Iteration 1 - Stacked Bar Chart" })}
                />
              </div>
              <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
                <h3 className="text-2xl leading-normal text-gray-900 dark:text-gray-100">Design Iteration 1 - Stacked Bar Chart</h3>
                <div>
                  <p className="mb-3 text-gray-900 dark:text-gray-100">Pros:</p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>View and filter detections in all categories</li>
                    <li>Showing total detections in single category</li>
                  </ul>
                </div>
                <div>
                  <p className="mb-3 text-gray-900 dark:text-gray-100">Cons:</p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>Unable to view verdict score in chart</li>
                    <li>Lack of association between chart and detail panel</li>
                    <li>Time range filter is not supported in chart</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          {/* Design Solution 2 - Scatter Plot */}
          <div className="mb-16">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
              <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
                <h3 className="text-2xl leading-normal text-gray-900 dark:text-gray-100">Design Solution 2 - Scatter Plot</h3>
                <div>
                  <p className="mb-3 text-gray-900 dark:text-gray-100">Pros:</p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>Impact score reflecting verdict in colors</li>
                    <li>Filter by customizable timeline</li>
                  </ul>
                </div>
                <div>
                  <p className="mb-3 text-gray-900 dark:text-gray-100">Cons:</p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>Limited mouse-hover interaction space</li>
                    <li>No clear criteria to distinguish verdict</li>
                    <li>Not ideal for multiple inspections on a same timestamp</li>
                  </ul>
                </div>
              </div>
              <div>
                <img
                  src={multipleInspectionsImage}
                  alt="Design Solution 2 - Scatter Plot"
                  className="w-full h-auto cursor-pointer hover:opacity-90 transition-opacity"
                  style={{ borderRadius: '10px' }}
                  onClick={() => setExpandedImage({ src: multipleInspectionsImage, alt: "Design Solution 2 - Scatter Plot" })}
                />
              </div>
            </div>
          </div>

          {/* Design Solution 3 - Timeline Visualization */}
          <div className="mb-16">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
              <div>
                <img
                  src={customizedReportImage}
                  alt="Design Solution 3 - Timeline Visualization"
                  className="w-full h-auto cursor-pointer hover:opacity-90 transition-opacity"
                  style={{ borderRadius: '10px' }}
                  onClick={() => setExpandedImage({ src: customizedReportImage, alt: "Design Solution 3 - Timeline Visualization" })}
                />
              </div>
              <div className="space-y-6 text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
                <h3 className="text-2xl leading-normal text-gray-900 dark:text-gray-100">Design Solution 3 - Timeline Visualization</h3>
                <div>
                  <p className="mb-3 text-gray-900 dark:text-gray-100">Pros:</p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>More balanced space for interactions</li>
                    <li>Use sizing to distinguish affected VMs</li>
                    <li>Filter timeline chart by verdict type</li>
                  </ul>
                </div>
                <div>
                  <p className="mb-3 text-gray-900 dark:text-gray-100">Cons:</p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>A11y issues of event icon (color, size)</li>
                    <li>No multiple detections at same timestamp</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          {/* Final Implementation */}
          <div className="mb-16" id="final-implementation">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Final Implementation
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
              {/* Video 1 */}
              <div>
                <video
                  controls
                  className="w-full h-auto bg-gray-100 dark:bg-gray-800"
                  style={{ borderRadius: '10px' }}
                >
                  <source src="placeholder-video-1.mov" type="video/quicktime" />
                  <source src="placeholder-video-1.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
                <p className="text-left text-gray-700 dark:text-gray-200 mt-4">
                  a. Mouse-over on legend will give a quick overview of detection type, malware family, verdict and etc.
                </p>
              </div>

              {/* Video 2 */}
              <div>
                <video
                  controls
                  className="w-full h-auto bg-gray-100 dark:bg-gray-800"
                  style={{ borderRadius: '10px' }}
                >
                  <source src="placeholder-video-2.mov" type="video/quicktime" />
                  <source src="placeholder-video-2.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
                <p className="text-left text-gray-700 dark:text-gray-200 mt-4">
                  b. On-click on legend pops up a list of unique file inspections showing multiple detections on a single timestamp.
                </p>
              </div>

              {/* Video 3 */}
              <div>
                <video
                  controls
                  className="w-full h-auto bg-gray-100 dark:bg-gray-800"
                  style={{ borderRadius: '10px' }}
                >
                  <source src="placeholder-video-3.mov" type="video/quicktime" />
                  <source src="placeholder-video-3.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
                <p className="text-left text-gray-700 dark:text-gray-200 mt-4">
                  c. Expandable card depicting detailed information of malware traffic trace flow.
                </p>
              </div>

              {/* Video 4 */}
              <div>
                <video
                  controls
                  className="w-full h-auto bg-gray-100 dark:bg-gray-800"
                  style={{ borderRadius: '10px' }}
                >
                  <source src="placeholder-video-4.mov" type="video/quicktime" />
                  <source src="placeholder-video-4.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
                <p className="text-left text-gray-700 dark:text-gray-200 mt-4">
                  d. Filter unique inspections by customizing timeline bar.
                </p>
              </div>
            </div>
          </div>

          {/* Impact */}
          <div className="mb-16" id="impact">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Impact
            </h2>
            <div className="space-y-3 text-lg text-gray-700 dark:text-gray-200 leading-relaxed mb-8">
              <ul className="list-disc pl-6 space-y-3">
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Security Design System Contribution</span> – Created a reusable widget library with other designers for security-related & empty state pattern.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Feature Adoption & Onboarding</span> – Designed an onboarding experience to help security teams understand the new workflows.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Industry Recognition</span> – My design solution contributed to NSX ATP winning Gold Prize at the Cybersecurity Excellence Award in 2022 & 2023.
                </li>
              </ul>
            </div>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
              <div>
                <div className="w-full h-64 bg-gray-200 dark:bg-gray-700 flex items-center justify-center" style={{ borderRadius: '10px' }}>
                  <span className="text-gray-500 dark:text-gray-400">Placeholder Image</span>
                </div>
                <p className="text-left text-gray-700 dark:text-gray-200 mt-4">Security Widgets Pattern Library</p>
              </div>
              <div>
                <div className="w-full h-64 bg-gray-200 dark:bg-gray-700 flex items-center justify-center" style={{ borderRadius: '10px' }}>
                  <span className="text-gray-500 dark:text-gray-400">Placeholder Image</span>
                </div>
                <p className="text-left text-gray-700 dark:text-gray-200 mt-4">Empty State Pattern Library</p>
              </div>
            </div>
          </div>

          {/* Learnings & Reflections */}
          <div className="mb-16" id="learnings-reflections">
            <h2 className="text-3xl md:text-4xl leading-tight mb-10 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-[#6DB2FF] dark:to-[#6DB2FF] bg-clip-text text-transparent">
              Learnings & Reflections
            </h2>
            <div className="text-lg text-gray-700 dark:text-gray-200 leading-relaxed">
              <ul className="list-disc pl-6 space-y-4">
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Breaking down large project scope into manageable steps</span> - when overwhelmed by the scope working on a complex project with highly-specialized domains; small, digestible tasks would be helpful to manage and achieve key milestones.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Embrace ambiguity</span> - Lack of prior experience in certain domain is not a roadblock or barrier to the working process, but always a great opportunity to innovate by exploring various options with creativity.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">Strategic thinking is embedded in design decision</span> - Design is not only creating beautiful interface, but also a process to think holistically and strategically before making every design decision.
                </li>
                <li>
                  <span className="text-gray-900 dark:text-gray-100">A11y in security UIs is often overlooked</span>; I initiated discussions on improving contrast ratios & alternative representations for color-coded threat indicators.
                </li>
              </ul>
            </div>
          </div>
        </motion.div>
      </div>

      {/* Image Expanded View Modal */}
      {expandedImage && (
        <div
          className="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"
          onClick={() => setExpandedImage(null)}
        >
          <button
            className="absolute top-4 right-4 text-white hover:text-gray-300 transition-colors"
            onClick={() => setExpandedImage(null)}
          >
            <X className="w-8 h-8" />
          </button>
          <div className="max-w-7xl max-h-[90vh] relative">
            <img
              src={expandedImage.src}
              alt={expandedImage.alt}
              className="max-w-full max-h-[90vh] object-contain"
              style={{ borderRadius: '10px' }}
              onClick={(e) => e.stopPropagation()}
            />
          </div>
        </div>
      )}

      {/* Table of Contents - Subtle */}
      <div className="hidden xl:block fixed top-24 right-8 w-64 p-6 z-40">
        <h3 className="text-xs mb-4 text-gray-400 tracking-wide uppercase">On this page</h3>
        <ul className="space-y-2">
          {tableOfContents.map((item) => (
            <li key={item.id} className="relative pl-3">
              {activeSection === item.id && (
                <div className="absolute left-0 top-0 bottom-0 w-0.5 bg-gray-400" />
              )}
              <button
                className={`text-left text-sm transition-colors ${
                  activeSection === item.id ? 'text-gray-700' : 'text-gray-400 hover:text-gray-600'
                }`}
                onClick={() => scrollToSection(item.id)}
              >
                {item.label}
              </button>
            </li>
          ))}
        </ul>
      </div>

      {/* Back to Top Button */}
      {showBackToTop && (
        <motion.button
          initial={{ opacity: 0, scale: 0.8 }}
          animate={{ opacity: 1, scale: 1 }}
          exit={{ opacity: 0, scale: 0.8 }}
          className="fixed bottom-8 right-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 shadow-xl hover:shadow-2xl transition-all z-50"
          style={{ borderRadius: '10px' }}
          onClick={scrollToTop}
        >
          <ChevronUp className="w-6 h-6" />
        </motion.button>
      )}
    </main>
  );
}